/**
 * @file {@link http://xotic750.github.io/assert-x/ assert-x}. A Javascript assertion library..
 * @version 0.0.15
 * @author Graham Fairweather <xotic750@gmail.com>
 * @copyright Copyright (c) 2013 Graham Fairweather
 * @license {@link <http://www.gnu.org/licenses/gpl-3.0.html> GPL3}
 * @module assert-x
 * @requires util-x
 */
!function(a){"use strict";function b(a){function b(b,c){return a.isUndefinedOrNull(b)||a.isUndefinedOrNull(c)?!1:a.isRegExp(c)&&a.objectInstanceOf(b,Error)?c.test(b.toString()):a.objectInstanceOf(b,c)?!0:a.isFunction(c)&&a.isTrue(c.call({},b))?!0:!1}function c(b,d,e,g,h){throw a.isFunction(h)||(h=c),new f.AssertionError({message:e,actual:b,expected:d,operator:g,stackStartFunction:h})}function d(e,f,g,h,i){var j,k;a.isFunction(i)||(a.isFunction(h)?(i=h,h=a.privateUndefined):i=d),a.isString(h)&&!a.isEmptyString(h)||!a.isString(g)||(h=g,g=null);try{f()}catch(l){k=l}if(j=b(k,g),h=(g&&a.isString(g.name)&&a.isEmptyString(g.name)?" ("+g.name+").":".")+(h?" "+h:"."),a.isTrue(e)&&!k&&c(k,g,"Missing expected exception"+h,a.privateUndefined,i),a.isFalse(e)&&a.isTrue(j)&&c(k,g,"Got unwanted exception"+h,a.privateUndefined,i),a.isTrue(e)&&k&&g&&a.isFalse(j)||a.isFalse(e)&&k)throw k}var e,f={},g=128,h=a.customError("AssertionError",g);return a.objectDefineProperty(f,"AssertionError",{value:function(b){a.isPlainObject(b)||(b={}),a.isString(b.message)||(b.message=""),a.isString(b.operator)||(b.operator=""),a.isFunction(b.stackStartFunction)||(b.stackStartFunction=f.AssertionError),h.call(this,b.message,b.stackStartFunction),this.actual=b.actual,this.expected=b.expected,this.operator=b.operator},enumerable:!1,writable:!0,configurable:!0}),h.prototype.isPatched&&(console.log("# IS PATCHED"),e=h.prototype.toString,a.objectDefineProperties(h.prototype,{toString:{value:function(){var b;return a.objectInstanceOf(this,f.AssertionError)?(console.log("# IS ASSERTIONERROR"),a.isString(this.message)&&!a.isEmptyString(this.message)?b=this.name+": "+a.stringTruncate(this.message,g):a.objectInstanceOf(this,f.AssertionError)&&(b=this.name+": ",b+=a.stringTruncate(a.jsonStringify(this.actual,a.customErrorReplacer),g)+" ",b+=this.operator+" ",b+=a.stringTruncate(a.jsonStringify(this.expected,a.customErrorReplacer),g))):(console.log("# IS OTHERERROR"),b=e.call(this)),b},enumerable:!1,writable:!0,configurable:!0},isPatched:{value:!0,enumerable:!1,writable:!0,configurable:!0}})),a.inherits(f.AssertionError,h),a.objectDefineProperties(f.AssertionError.prototype,{toString:{value:function(){console.log("# CALLED ASSERTION TOSTRING");var b;return a.isString(this.message)&&!a.isEmptyString(this.message)?b=this.name+": "+a.stringTruncate(this.message,g):a.objectInstanceOf(this,f.AssertionError)&&(b=this.name+": ",b+=a.stringTruncate(a.jsonStringify(this.actual,a.customErrorReplacer),g)+" ",b+=this.operator+" ",b+=a.stringTruncate(a.jsonStringify(this.expected,a.customErrorReplacer),g)),b},enumerable:!1,writable:!0,configurable:!0}}),a.objectDefineProperties(f,{fail:{value:function(a,b,d,e){c(a,b,d,"fail",e)},enumerable:!1,writable:!0,configurable:!0},ok:{value:function(b,d,e){var f=a.toBoolean(b);a.isFalse(f)&&c(f,!0,d,"ok",e)},enumerable:!1,writable:!0,configurable:!0},notOk:{value:function(b,d,e){var f=a.toBoolean(b);a.isTrue(f)&&c(f,!0,d,"notOk",e)},enumerable:!1,writable:!0,configurable:!0},equal:{value:function(b,d,e,f){a.notEqual(b,d)&&c(b,d,e,"==",f)},enumerable:!1,writable:!0,configurable:!0},notEqual:{value:function(b,d,e,f){a.equal(b,d)&&c(b,d,e,"!=",f)},enumerable:!1,writable:!0,configurable:!0},deepEqual:{value:function(b,d,e,f){a.deepEqual(b,d)||c(b,d,e,"deepEqual",f)},enumerable:!1,writable:!0,configurable:!0},notDeepEqual:{value:function(b,d,e,f){a.deepEqual(b,d)&&c(b,d,e,"notDeepEqual",f)},enumerable:!1,writable:!0,configurable:!0},deepStrictEqual:{value:function(b,d,e,f){a.deepEqual(b,d,{strict:!0})||c(b,d,e,"deepStrictEqual",f)},enumerable:!1,writable:!0,configurable:!0},notDeepStrictEqual:{value:function(b,d,e,f){a.deepEqual(b,d,{strict:!0})&&c(b,d,e,"notDeepStrictEqual",f)},enumerable:!1,writable:!0,configurable:!0},strictEqual:{value:function(b,d,e,f){a.notStrictEqual(b,d)&&c(b,d,e,"===",f)},enumerable:!1,writable:!0,configurable:!0},notStrictEqual:{value:function(b,d,e,f){a.strictEqual(b,d)&&c(b,d,e,"!==",f)},enumerable:!1,writable:!0,configurable:!0},"throws":{value:function(a,b,c,e){d(!0,a,b,c,e)},enumerable:!1,writable:!0,configurable:!0},doesNotThrow:{value:function(a,b,c){d(!1,a,b,c)},enumerable:!1,writable:!0,configurable:!0},ifError:{value:function(a){if(a)throw a},enumerable:!1,writable:!0,configurable:!0}}),f}if("object"!=typeof a||null===a)throw new TypeError("Invalid global context");var c;"object"==typeof module&&null!==module&&"object"==typeof module.exports&&null!==module.exports?(c=b(require("util-x")),c.factory=function(a){var d;return d=!0===a?b(require("util-x").factory()):b(require("util-x")),d.factory=c.factory,d},module.exports=c):"function"==typeof define&&"object"==typeof define.amd&&null!==define.amd?define(["util-x"],function(a){return c=b(a),c.factory=function(d){var e;return e=!0===d?b(a.factory()):b(a),e.factory=c.factory,e},c}):(c=b(a.utilx),c.factory=function(d){var e;return e=!0===d?b(a.utilx.factory()):b(a.utilx),e.factory=c.factory,e},a.assertx=c)}(this);